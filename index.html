<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>AirCalc ‚Äî –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞ –æ–Ω–ª–∞–π–Ω</title>
    <meta name="description" content="–ë—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞ –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã –∏ –æ—Ñ–∏—Å–∞. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –Ω—É–∂–Ω—É—é –º–æ–¥–µ–ª—å –ø–æ –ø–ª–æ—â–∞–¥–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –ø–æ–º–µ—â–µ–Ω–∏—è –∑–∞ 2 –º–∏–Ω—É—Ç—ã. –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –æ–Ω–ª–∞–π–Ω-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä!">
    <meta name="keywords" content="–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞, —Ä–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞, –ø–æ–¥–±–æ—Ä –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞, –∫–í—Ç, BTU, –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –¥–ª—è –¥–æ–º–∞, –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –±—ã—Ç–æ–≤–æ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä, –ø–æ–ª—É–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä">
    <meta name="author" content="AirCalc Team">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#0EA5E9">
    <meta name="language" content="Russian">
    
    <!-- Open Graph for Social Media -->
    <meta property="og:title" content="AirCalc ‚Äî –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞">
    <meta property="og:description" content="–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–Ω–ª–∞–π–Ω-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞. –†–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –∑–∞ 2 –º–∏–Ω—É—Ç—ã!">
    <meta property="og:url" content="https://t.me/aircalc_bot/aircalc">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://i.postimg.cc/k4r3xqZK/aircalc-preview.png">
    <meta property="og:locale" content="ru_RU">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AirCalc ‚Äî –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞ –æ–Ω–ª–∞–π–Ω">
    <meta name="twitter:description" content="–ë—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞ –¥–ª—è –ª—é–±–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è">
    <meta name="twitter:image" content="https://i.postimg.cc/k4r3xqZK/aircalc-preview.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://t.me/aircalc_bot/aircalc">
    
    <!-- Additional Meta Tags -->
    <meta name="application-name" content="AirCalc">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #0EA5E9;
            --secondary: #06B6D4;
            --accent: #14B8A6;
            --success: #10B981;
            --warning: #F59E0B;
            --bg-primary: #E0F2FE;
            --bg-secondary: #CFFAFE;
            --text-primary: #0F172A;
            --text-secondary: #475569;
            --card-bg: rgba(255, 255, 255, 0.95);
        }

        body {
            font-family: 'Inter', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .app-container {
            width: 100%;
            max-width: 480px;
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        .screen {
            display: none;
            padding: 40px 20px;
            min-height: 100vh;
            animation: fadeIn 0.4s ease-in-out;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .welcome-screen {
            background: linear-gradient(135deg, #E0F2FE 0%, #CFFAFE 100%);
            text-align: center;
            padding: 60px 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            gap: 30px;
        }

        .welcome-logo {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .welcome-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .welcome-subtitle {
            color: #FFFFFF;
            font-weight: 700;
            font-size: 18px;
            text-shadow: 0 2px 8px rgba(0,0,0,0.3);
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .welcome-description {
            font-size: 16px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .btn {
            padding: 14px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            width: 100%;
        }

        .btn-primary:hover {
            filter: brightness(1.1);
        }

        .btn-primary:active {
            filter: brightness(0.95);
        }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 12px;
            border: 1px solid rgba(14, 165, 233, 0.1);
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .input-group {
            margin-bottom: 12px;
        }

        .input-group label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 6px;
        }

        input[type="number"],
        input[type="text"],
        input[type="range"],
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            transition: 0.3s ease;
        }

        input[type="number"]:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            padding: 10px;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.2s ease;
        }

        .radio-option:hover {
            background: rgba(14, 165, 233, 0.05);
            border-color: var(--primary);
        }

        .radio-option input[type="radio"] {
            margin-right: 10px;
            cursor: pointer;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .checkbox-option {
            display: flex;
            align-items: center;
            padding: 10px;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.2s ease;
        }

        .checkbox-option:hover {
            background: rgba(14, 165, 233, 0.05);
        }

        .checkbox-option input[type="checkbox"] {
            margin-right: 10px;
            cursor: pointer;
            width: 18px;
            height: 18px;
        }

        .result-block {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.1), rgba(20, 184, 166, 0.1));
            border-left: 4px solid var(--primary);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 16px;
        }

        .result-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .result-model {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 6px;
        }

        .result-details {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .result-details p {
            margin-bottom: 6px;
        }

        .recommendation-text {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid var(--success);
            padding: 16px;
            border-radius: 8px;
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 12px;
        }

        .tips-block {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid var(--warning);
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
        }

        .tips-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .tips-list {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .tips-list li {
            margin-bottom: 6px;
            margin-left: 20px;
        }

        .accordion {
            margin-top: 16px;
        }

        .accordion-button {
            width: 100%;
            padding: 12px;
            background: rgba(14, 165, 233, 0.1);
            border: 1px solid rgba(14, 165, 233, 0.2);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary);
            transition: 0.3s ease;
        }

        .accordion-button:hover {
            background: rgba(14, 165, 233, 0.15);
        }

        .accordion-content {
            display: none;
            padding: 12px;
            background: rgba(14, 165, 233, 0.05);
            border-left: 2px solid var(--primary);
            margin-top: 8px;
            border-radius: 4px;
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.6;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .accordion-content.active {
            display: block;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .button-group button {
            flex: 1;
        }

        .btn-secondary {
            background: rgba(14, 165, 233, 0.1);
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .btn-secondary:hover {
            background: rgba(14, 165, 233, 0.2);
        }

        @media (max-width: 480px) {
            .app-container {
                border-radius: 0;
                min-height: 100vh;
            }

            .welcome-screen {
                padding: 40px 20px;
            }

            .welcome-logo {
                font-size: 60px;
            }

            .welcome-title {
                font-size: 24px;
            }
        }
    </style>
    
    <script>
        // ===== TELEGRAM WEB APP API =====
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        
        // –†–∞—Å—à–∏—Ä—è–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        tg.expand();
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤ Telegram –±–æ—Ç–∞
        function trackEvent(eventName, params = {}) {
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    console.log(`üìä –°–æ–±—ã—Ç–∏–µ: ${eventName}`, params);
    
    const eventData = {
        event: eventName,
        timestamp: new Date().toISOString(),
        data: params,
        userId: tg.initDataUnsafe?.user?.id || 'unknown',
        username: tg.initDataUnsafe?.user?.username || 'unknown'
    };
    
    // 1Ô∏è‚É£ –û–¢–ü–†–ê–í–õ–Ø–ï–ú –ù–ê FLASK –°–ï–†–í–ï–† (–≥–ª–∞–≤–Ω–æ–µ!)
    fetch('https://aircalc-bot.onrender.com/webapp', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(eventData)
    })
    .then(res => {
        console.log('‚úÖ –°–æ–±—ã—Ç–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä');
        return res.json();
    })
    .catch(err => console.error('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:', err));
    
    // 2Ô∏è‚É£ –¢–ê–ö–ñ–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram Web App (–µ—Å–ª–∏ –≤ Telegram)
    if (tg && tg.sendData) {
        tg.sendData(JSON.stringify(eventData));
        console.log('‚úÖ –°–æ–±—ã—Ç–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram');
    }
}

        
        // –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
        tg.ready();
    </script>
</head>
<body>
    <div class="app-container">
        <!-- Welcome Screen -->
        <div class="screen active welcome-screen" id="welcome">
            <div class="welcome-logo">‚ùÑÔ∏è</div>
            <div class="welcome-title">üåä AirCalc</div>
            <div class="welcome-subtitle">–†–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞</div>
            <div class="welcome-description">
                –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤—ã–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞ –¥–ª—è –≤–∞—à–µ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è
            </div>
            <button class="btn btn-primary" onclick="switchScreen('calculator')">–ù–∞—á–∞—Ç—å —Ä–∞—Å—á–µ—Ç</button>
        </div>

        <!-- Calculator Screen -->
        <div class="screen" id="calculator">
            <h1 style="font-size: 24px; margin-bottom: 20px; text-align: center;">üìã –†–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏</h1>

            <div class="card">
                <div class="card-title">üìê –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–º–µ—â–µ–Ω–∏—è</div>
                <div class="input-group">
                    <label>–ü–ª–æ—â–∞–¥—å –ø–æ–º–µ—â–µ–Ω–∏—è (–º¬≤)</label>
                    <input type="number" id="area" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: 26" min="1" max="500" value="26">
                </div>
                <div class="input-group">
                    <label>–í—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–∞ (–º)</label>
                    <input type="number" id="height" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: 2.7" min="1" max="10" step="0.1" value="2.75">
                </div>
                <div class="input-group">
                    <label>‚òÄÔ∏è –û—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç—å</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="sunlight" value="30" checked> –ó–∞—Ç–µ–Ω–µ–Ω–Ω–æ–µ (–æ–∫–Ω–∞ –Ω–∞ —Å–µ–≤–µ—Ä)
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="sunlight" value="35"> –°—Ä–µ–¥–Ω–µ–µ (–æ–∫–Ω–∞ –Ω–∞ –≤–æ—Å—Ç–æ–∫/–∑–∞–ø–∞–¥)
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="sunlight" value="40"> –Ø—Ä–∫–æ–µ (–æ–∫–Ω–∞ –Ω–∞ —é–≥)
                        </label>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-title">üë• –õ—é–¥–∏ –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏</div>
                <div class="input-group">
                    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π: <span id="peopleCount">2</span></label>
                    <input type="range" id="people" min="0" max="20" value="2" style="width: 100%; cursor: pointer;">
                </div>
                <div class="input-group">
                    <label>üö∂ –£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="activity" value="0.1"> üò¥ –ù–∏–∑–∫–∞—è (–æ—Ç–¥—ã—Ö) - 0.1 –∫–í—Ç
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="activity" value="0.13" checked> üö∂ –°—Ä–µ–¥–Ω—è—è (–¥–æ–º) - 0.13 –∫–í—Ç
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="activity" value="0.15"> üíº –í—ã—Å–æ–∫–∞—è (–æ—Ñ–∏—Å) - 0.15 –∫–í—Ç
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="activity" value="0.2"> üèÉ –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è (—Å–ø–æ—Ä—Ç) - 0.2 –∫–í—Ç
                        </label>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-title">üîß –ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞</div>
                <div class="checkbox-group">
                    <label class="checkbox-option">
                        <input type="checkbox" class="device" data-power="0.3"> üíª –ö–æ–º–ø—å—é—Ç–µ—Ä (+0.3 –∫–í—Ç)
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" class="device" data-power="0.2"> üì∫ –¢–µ–ª–µ–≤–∏–∑–æ—Ä (+0.2 –∫–í—Ç)
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" class="device" data-power="0.05"> ‚ùÑÔ∏è –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ (+0.05 –∫–í—Ç)
                    </label>
                </div>
                <div class="input-group" style="margin-top: 12px;">
                    <label>–î—Ä—É–≥–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ (–í—Ç)</label>
                    <input type="number" id="otherPower" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: 100" min="0" value="0">
                </div>
            </div>

            <div class="card">
                <div class="card-title">‚ûï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã</div>
                <div class="checkbox-group">
                    <label class="checkbox-option">
                        <input type="checkbox" class="factor" data-factor="top_floor" data-multiplier="0.15"> üè¢ –í–µ—Ä—Ö–Ω–∏–π —ç—Ç–∞–∂ (+15%)
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" class="factor" data-factor="corner" data-multiplier="0.10"> üìê –£–≥–ª–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞ (+10%)
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" class="factor" data-factor="kitchen" data-multiplier="0.20"> üç≥ –ö—É—Ö–Ω—è (+20%)
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" class="factor" data-factor="windows" data-multiplier="0.15"> ü™ü –ë–æ–ª—å—à–æ–µ –æ—Å—Ç–µ–∫–ª–µ–Ω–∏–µ (+15%)
                    </label>
                </div>
            </div>

            <button class="btn btn-primary" onclick="calculate()" style="margin-top: 20px;">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        </div>

        <!-- Results Screen -->
        <div class="screen" id="results">
            <h1 style="font-size: 24px; margin-bottom: 20px; text-align: center;">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞</h1>

            <div class="result-block">
                <div class="result-title">‚úÖ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–ê–Ø –ú–û–î–ï–õ–¨</div>
                <div class="result-model" id="modelName">–ú–æ–¥–µ–ª—å 24</div>
                <div class="result-details" id="modelDetails">
                    <p><strong>BTU:</strong> <span id="modelBTU">24000</span></p>
                    <p><strong>–ú–æ—â–Ω–æ—Å—Ç—å:</strong> <span id="modelPower">7.0</span> –∫–í—Ç</p>
                    <p><strong>–î–ª—è –ø–ª–æ—â–∞–¥–µ–π:</strong> –¥–æ <span id="modelArea">70</span> –º¬≤</p>
                </div>

                <div class="result-details" style="margin-top: 12px; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 12px;">
                    <p><strong>üìä –í–∞—à —Ä–∞—Å—á–µ—Ç:</strong></p>
                    <p>–¢—Ä–µ–±—É–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å: <strong><span id="resultQ">6.82</span> –∫–í—Ç</strong></p>
                    <p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω: <strong><span id="resultRange">6.48 - 7.84</span> –∫–í—Ç</strong></p>
                </div>

                <div class="recommendation-text" id="recText">
                    ‚úì –≠—Ç–∞ –º–æ–¥–µ–ª—å –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –í–∞—à–∏—Ö —É—Å–ª–æ–≤–∏–π. –î–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –º–æ—â–Ω–æ—Å—Ç–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º.
                </div>
            </div>

            <div id="largeRoomBlock" style="display: none;">
                <div class="result-block">
                    <div class="result-title">‚ö†Ô∏è –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø –î–õ–Ø –ë–û–õ–¨–®–û–ì–û –ü–û–ú–ï–©–ï–ù–ò–Ø</div>
                    <div class="result-details" id="largeRoomDetails">
                        <p id="largeRoomText"></p>
                        <p style="margin-top: 12px; font-weight: 600;">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å:</p>
                        <p style="margin-top: 6px;"><span id="semiPower">14</span> –∫–í—Ç</p>
                        <p style="margin-top: 12px; font-size: 14px; line-height: 1.6; color: #c00;">‚ö†Ô∏è –ë—ã—Ç–æ–≤—ã—Ö –Ω–∞—Å—Ç–µ–Ω–Ω—ã—Ö –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–≤ —Ç–∞–∫–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –Ω–µ –±—ã–≤–∞–µ—Ç.</p>
                        <p style="margin-top: 8px; font-size: 14px; line-height: 1.6;">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª—É–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –º–æ—â–Ω–æ—Å—Ç–∏: <strong>–∫–∞–Ω–∞–ª—å–Ω—ã–µ, –∫–∞—Å—Å–µ—Ç–Ω—ã–µ, –∫–æ–ª–æ–Ω–Ω—ã–µ –∏–ª–∏ –Ω–∞–ø–æ–ª—å–Ω–æ-–ø–æ—Ç–æ–ª–æ—á–Ω—ã–µ —Ç–∏–ø—ã</strong>.</p>
                    </div>
                </div>
            </div>

            <div class="accordion">
                <button class="accordion-button" onclick="toggleAccordion()">‚ñº –ö–∞–∫ –º—ã —Ä–∞—Å—Å—á–∏—Ç–∞–ª–∏?</button>
                <div class="accordion-content" id="calcDetails"></div>
            </div>

            <div class="tips-block">
                <div class="tips-title">üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –≠–ö–°–ü–ï–†–¢–û–í:</div>
                <ul class="tips-list">
                    <li>–í–Ω–µ–≥–ª–∞—Å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ: –≤ —Å—Ä–µ–¥–Ω–µ–º 1 –∫–í—Ç –Ω–∞ 10 –º¬≤ –ø–ª–æ—â–∞–¥–∏</li>
                    <li>–ó–∞–ø–∞—Å –º–æ—â–Ω–æ—Å—Ç–∏ 10-15% –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—É—é –∂–∞—Ä—É</li>
                    <li>–î–ª—è –∫—É—Ö–Ω–∏ –≤—ã–±–∏—Ä–∞–π—Ç–µ –Ω–∞ 20-30% –º–æ—â–Ω–µ–µ –æ–±—ã—á–Ω–æ–≥–æ</li>
                    <li>–í–µ—Ä—Ö–Ω–∏–π —ç—Ç–∞–∂ –∏ —É–≥–ª–æ–≤—ã–µ –∫–æ–º–Ω–∞—Ç—ã —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ –º–æ—â–Ω–æ—Å—Ç–∏</li>
                    <li>–ë–æ–ª—å—à–æ–µ –æ—Å—Ç–µ–∫–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø–∞—Å–∞</li>
                </ul>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="switchScreen('calculator')">–ù–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç</button>
                <button class="btn btn-primary" onclick="shareResult()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º</button>
            </div>
        </div>
    </div>

    <script>
        // AC Models Database - –ë—ã—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç–µ–Ω–Ω—ã–µ (–¥–æ 10 –∫–í—Ç)
        const acModelsBytovye = [
            {marking: 20, model: 7, btu: 7000, kw: 2.1, area: 20},
            {marking: 25, model: 9, btu: 9000, kw: 2.6, area: 25},
            {marking: 35, model: 12, btu: 12000, kw: 3.5, area: 35},
            {marking: 50, model: 18, btu: 18000, kw: 5.3, area: 50},
            {marking: 71, model: 24, btu: 24000, kw: 7.0, area: 70},
            {marking: 80, model: 28, btu: 28000, kw: 8.2, area: 80},
            {marking: 100, model: 36, btu: 36000, kw: 10.6, area: 110}
        ];

        // –ü–æ–ª—É–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã (>10 –∫–í—Ç)
        const semiIndustrialPowers = [12.3, 14.0, 16.0, 18.0, 20.0, 22.0, 24.0, 28.0, 30.0, 36.0, 40.0, 48.0];

        // Screen Management
        function switchScreen(screenName) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenName).classList.add('active');
            
            // –¢—Ä–µ–∫–∏–Ω–≥ –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
            trackEvent('screen_switched', { screen: screenName });
        }

        // Slider Update
        document.getElementById('people').addEventListener('input', function() {
            document.getElementById('peopleCount').textContent = this.value;
        });

        // Main Calculation
        function calculate() {
            const area = parseFloat(document.getElementById('area').value);
            const height = parseFloat(document.getElementById('height').value);
            const sunlight = parseFloat(document.querySelector('input[name="sunlight"]:checked').value);
            const people = parseInt(document.getElementById('people').value);
            const activity = parseFloat(document.querySelector('input[name="activity"]:checked').value);
            const otherPower = parseFloat(document.getElementById('otherPower').value) || 0;

            // –¢—Ä–µ–∫–∏–Ω–≥ –Ω–∞—á–∞–ª–æ —Ä–∞—Å—á–µ—Ç–∞
            trackEvent('calculation_started', { area: area, height: height, people: people });

            // Calculate Q1 (Room)
            const Q1 = (area * height * sunlight) / 1000;

            // Calculate Q2 (People)
            const Q2 = people * activity;

            // Calculate Q3 (Devices)
            let Q3 = 0;
            document.querySelectorAll('.device:checked').forEach(device => {
                Q3 += parseFloat(device.dataset.power);
            });
            Q3 += (otherPower * 0.3) / 1000;

            // Calculate Q (Total)
            let Q = Q1 + Q2 + Q3;

            // Apply Additional Factors
            document.querySelectorAll('.factor:checked').forEach(factor => {
                Q *= (1 + parseFloat(factor.dataset.multiplier));
            });

            // Calculate Range
            const Q_min = Q * 0.95;
            const Q_max = Q * 1.15;

            // Find Recommended Model
            let recommended;

            if (Q <= 10.6) {
                // –ò—â–µ–º –±—ã—Ç–æ–≤–æ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä (–Ω–∞—Å—Ç–µ–Ω–Ω—ã–π)
                recommended = acModelsBytovye[0];
                for (let model of acModelsBytovye) {
                    if (model.kw >= Q_min) {
                        recommended = model;
                        if (model.kw >= Q) break;
                    }
                }
                
                // Display Results - –ë–´–¢–û–í–ê–Ø –ú–û–î–ï–õ–¨
                document.getElementById('modelName').textContent = `–ú–æ–¥–µ–ª—å ${recommended.model}`;
                document.getElementById('modelBTU').textContent = recommended.btu.toLocaleString();
                document.getElementById('modelPower').textContent = recommended.kw.toFixed(1);
                document.getElementById('modelArea').textContent = recommended.area;
                document.getElementById('largeRoomBlock').style.display = 'none';
            } else {
                // –ú–æ—â–Ω–æ—Å—Ç—å > 10.6 –∫–í—Ç - –Ω—É–∂–Ω—ã –ø–æ–ª—É–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ
                let recommendedPower = semiIndustrialPowers[0];
                for (let power of semiIndustrialPowers) {
                    if (power >= Q) {
                        recommendedPower = power;
                        break;
                    }
                }
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º BTU –∏ –ø–ª–æ—â–∞–¥—å
                const semiIndustBTU = Math.round(recommendedPower * 3400);
                const semiIndustArea = Math.round(recommendedPower * 10);
                
                // Display Results
                document.getElementById('modelName').textContent = `–ú–æ—â–Ω–æ—Å—Ç—å ‚â• ${recommendedPower} –∫–í—Ç`;
                document.getElementById('modelBTU').textContent = semiIndustBTU.toLocaleString();
                document.getElementById('modelPower').textContent = recommendedPower.toFixed(1);
                document.getElementById('modelArea').textContent = semiIndustArea;
                
                // Show Large Room Block
                document.getElementById('largeRoomBlock').style.display = 'block';
                document.getElementById('largeRoomText').textContent = `–î–ª—è –ø–æ–º–µ—â–µ–Ω–∏—è –ø–ª–æ—â–∞–¥—å—é ${area} –º¬≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–æ—â–Ω–æ—Å—Ç—å ${Q.toFixed(2)} –∫–í—Ç.`;
                document.getElementById('semiPower').textContent = recommendedPower.toFixed(1);
            }

            // Display common results
            document.getElementById('resultQ').textContent = Q.toFixed(2);
            document.getElementById('resultRange').textContent = `${Q_min.toFixed(2)} - ${Q_max.toFixed(2)}`;

            // Calculation Details
            const detailsText = `Q‚ÇÅ (–ø–æ–º–µ—â–µ–Ω–∏–µ) = ${area} √ó ${height} √ó ${sunlight} / 1000 = ${Q1.toFixed(2)} –∫–í—Ç\nQ‚ÇÇ (–ª—é–¥–∏) = ${people} √ó ${activity} = ${Q2.toFixed(2)} –∫–í—Ç\nQ‚ÇÉ (—Ç–µ—Ö–Ω–∏–∫–∞) = ${Q3.toFixed(2)} –∫–í—Ç\n\nQ = ${Q.toFixed(2)} –∫–í—Ç\n\n–î–∏–∞–ø–∞–∑–æ–Ω: ${Q_min.toFixed(2)} - ${Q_max.toFixed(2)} –∫–í—Ç`;
            document.getElementById('calcDetails').textContent = detailsText;

            // –¢—Ä–µ–∫–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞
            trackEvent('calculation_completed', { result_power_kw: Q.toFixed(2), area: area });

            switchScreen('results');
        }

        // Get human-readable options
        function getSunlightText(value) {
            const sunMap = {'30': '–ó–∞—Ç–µ–Ω–µ–Ω–æ (–æ–∫–Ω–∞ –Ω–∞ —Å–µ–≤–µ—Ä)', '35': '–°—Ä–µ–¥–Ω–µ–µ (–æ–∫–Ω–∞ –Ω–∞ –≤–æ—Å—Ç–æ–∫/–∑–∞–ø–∞–¥)', '40': '–Ø—Ä–∫–æ–µ (–æ–∫–Ω–∞ –Ω–∞ —é–≥)'};
            return sunMap[value] || '–°—Ä–µ–¥–Ω–µ–µ';
        }

        function getActivityText(value) {
            const actMap = {'0.1': '–ù–∏–∑–∫–∞—è (–æ—Ç–¥—ã—Ö)', '0.13': '–°—Ä–µ–¥–Ω—è—è (–¥–æ–º)', '0.15': '–í—ã—Å–æ–∫–∞—è (–æ—Ñ–∏—Å)', '0.2': '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è (—Å–ø–æ—Ä—Ç)'};
            return actMap[value] || '–°—Ä–µ–¥–Ω—è—è (–¥–æ–º)';
        }

        // Share Result
        function shareResult() {
            // –¢—Ä–µ–∫–∏–Ω–≥ –ø–æ–¥–µ–ª–∏–ª–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
            trackEvent('result_shared', { method: 'copy_to_clipboard' });

            const area = document.getElementById('area').value;
            const height = document.getElementById('height').value;
            const sunlight = document.querySelector('input[name="sunlight"]:checked').value;
            const people = document.getElementById('peopleCount').textContent;
            const activity = document.querySelector('input[name="activity"]:checked').value;
            const resultQ = document.getElementById('resultQ').textContent;
            const resultRange = document.getElementById('resultRange').textContent;
            const modelName = document.getElementById('modelName').textContent;
            const modelPower = document.getElementById('modelPower').textContent;
            const modelBTU = document.getElementById('modelBTU').textContent;

            // –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ—Ö–Ω–∏–∫–µ
            const devicesChecked = [];
            document.querySelectorAll('.device:checked').forEach(device => {
                devicesChecked.push(device.parentElement.textContent.trim().split('(')[0].trim());
            });
            const otherPower = document.getElementById('otherPower').value;
            let devicesList = devicesChecked.join(', ');
            if (otherPower > 0) {
                devicesList += (devicesList ? ', ' : '') + `–î—Ä—É–≥–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ (${otherPower} –í—Ç)`;
            }
            if (!devicesList) devicesList = '–ù–µ —É–∫–∞–∑–∞–Ω–∞';

            const sunlightText = getSunlightText(sunlight);
            const activityText = getActivityText(activity);

            const shareText = `üåä AirCalc - –†–∞—Å—á–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞

üìä –í–∞—à–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
üìê –ü–ª–æ—â–∞–¥—å –ø–æ–º–µ—â–µ–Ω–∏—è: ${area} –º¬≤
üìè –í—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–∞: ${height} –º
‚òÄÔ∏è –û—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç—å: ${sunlightText}

üë• –õ—é–¥–∏ –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏:
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${people} —á–µ–ª.
–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: ${activityText}

üîß –ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞:
${devicesList}

üìà –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á–µ—Ç–∞:
‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ–¥–µ–ª—å: ${modelName} (${modelPower} –∫–í—Ç)
üíæ BTU: ${modelBTU}
üíæ –¢—Ä–µ–±—É–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å: ${resultQ} –∫–í—Ç
üìä –î–∏–∞–ø–∞–∑–æ–Ω: ${resultRange} –∫–í—Ç

üí° –°–æ–≤–µ—Ç: –î–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º.

üîó –†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Å–≤–æ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –≤ AirCalc: https://t.me/aircalc_bot`;

            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                });
            }
        }

        // Accordion Toggle
        function toggleAccordion() {
            const content = document.getElementById('calcDetails');
            content.classList.toggle('active');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: —Ç—Ä–µ–∫–∏–Ω–≥ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        window.addEventListener('DOMContentLoaded', function() {
            trackEvent('aircalc_opened', { timestamp: new Date().toISOString() });
        });
    </script>
    </body>
</html>